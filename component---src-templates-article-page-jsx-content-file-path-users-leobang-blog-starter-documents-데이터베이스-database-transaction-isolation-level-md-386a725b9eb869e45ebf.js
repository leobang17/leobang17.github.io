"use strict";(self.webpackChunkgatsby_theme_simplex=self.webpackChunkgatsby_theme_simplex||[]).push([[8772],{9280:function(e,t,a){a.r(t),a.d(t,{Head:function(){return E.py},default:function(){return g}});var n=a(1151),l=a(7294);function c(e){const t=Object.assign({p:"p",blockquote:"blockquote",h3:"h3",a:"a",div:"div",h5:"h5",ul:"ul",li:"li",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",strong:"strong"},(0,n.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(t.p,null,"ACID 중 Isolation 속성은 ",l.createElement("u",null,"여러 transaction이 동시에 일어나더라도 혼자서 일어나는 것과 동일함을 보장"),"해야한다는 속성이다. 하지만 Isolation을 엄격하게 지키면 지킬수록 DBMS의 퍼포먼스는 떨어질 수 밖에 없으므로 대부분의 DBMS는 개발자에게 어느정도까지 Isolation을 보장할 것인지 선택지를 준다. 이 것이 Transaction Isolation Level이다."),"\n",l.createElement(t.p,null,"Transaction Isolation Level은 SQL 표준 문서에서 제시하는 3가지 이상현상을 바탕으로, 어느 이상 현상까지를 수용할 것인지를 기준으로 구간을 나눈 것이다."),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,"이상현상 (Abnomaly)이란 데이터의 불일치(inconsistency)를 가져오는 현상을 말한다."),"\n"),"\n",l.createElement(t.h3,{id:"sql-표준에서-제시하는-3가지-이상현상",style:{position:"relative"}},l.createElement(t.a,{href:"#sql-%ED%91%9C%EC%A4%80%EC%97%90%EC%84%9C-%EC%A0%9C%EC%8B%9C%ED%95%98%EB%8A%94-3%EA%B0%80%EC%A7%80-%EC%9D%B4%EC%83%81%ED%98%84%EC%83%81","aria-label":"sql 표준에서 제시하는 3가지 이상현상 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"SQL 표준에서 제시하는 3가지 이상현상"),"\n",l.createElement(t.h5,{id:"dirty-read-commit-되지-않은-변화를-읽어들임",style:{position:"relative"}},l.createElement(t.a,{href:"#dirty-read-commit-%EB%90%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EB%B3%80%ED%99%94%EB%A5%BC-%EC%9D%BD%EC%96%B4%EB%93%A4%EC%9E%84","aria-label":"dirty read commit 되지 않은 변화를 읽어들임 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Dirty Read: Commit 되지 않은 변화를 읽어들임"),"\n",l.createElement(t.p,null,l.createElement("u",null,"Commit 되지 않은 변화를 읽는 것"),"을 dirty read 라고 한다. commit 되지 않은 변경사항은 언제 abort되어 Rollback될 지 모르므로 읽어들인 데이터가 실제 DB에 저장된 값과 다를 수 있기 때문에 “너저분한 읽기”가 되는 것."),"\n",l.createElement(t.p,null,"다음 두 트랜잭션의 스케줄을 확인하자:"),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 73.93939393939394%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACB0lEQVR42o2UDW+bMBCG8///2DJp0zYtq5qUlCUpaUIwHwYb29g8E6T5alNpr3SAOXN+7947Jlwh9IG+70cb4L0njmNCCOP62ncPg2+SGcVjnbNua6YiQRh93tA0DdPpFCHEGPQUSrlA2/WUrWdTOeLC4sPRO/H0bNI9uyKn1orwxiBNU+aPC7IsY71eE0UR4e2jdenYScNWWl5KSyId3SngcKmKkuxwQCt1Zrd93fJ19oXfzz9ZRkvm8/lNyrkQ7JIX6qo45XtM+X1NfHAY31C3JVux4eF5hhA5Susx5VPQwYYaD6yvD5r0XF7UVrKotiyqA4muyX1HLgqCdx+K/9n6zLB2Fca36D4gQ4d7k2AQ5FAbcu3JVYey/oblextr6LxFufqorKyReYnMCspKkmYZqTTsmo5EBfTnXXMRxXqD7hQDqegx4se3Xyy//yFexOzWCT6vQBv8JsUlB+y+GM1sUnSUoB5WNLMYr9pLQOWa8YTMtcS6IrENL7YhOaT4bkgTbFqOgTqp8cMBUhFaSzCOoM0l5QHSVjjfkraaJ5mzVTUmeDIh8F3H/+IsynBvO0VcvzKvtggjz/1mrMOFHu08zofRxsn4TJRr2btgCcERwpFVWRT8zVuehGW2b1kKO47bMH73WuiG4bXz9Ljf73HO3u25ez+KG4bv6Q9YrVZorbm37x7Df5tYkNFf4Aj9AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/c3c562ce29306f20d43cc03ba038f635/3cd7a/image-20231103152945160.webp 165w,\n/static/c3c562ce29306f20d43cc03ba038f635/89fe6/image-20231103152945160.webp 330w,\n/static/c3c562ce29306f20d43cc03ba038f635/3d671/image-20231103152945160.webp 660w,\n/static/c3c562ce29306f20d43cc03ba038f635/7dc77/image-20231103152945160.webp 990w,\n/static/c3c562ce29306f20d43cc03ba038f635/e5fc7/image-20231103152945160.webp 1004w"\n              sizes="(max-width: 660px) 100vw, 660px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/c3c562ce29306f20d43cc03ba038f635/103f2/image-20231103152945160.png 165w,\n/static/c3c562ce29306f20d43cc03ba038f635/748ba/image-20231103152945160.png 330w,\n/static/c3c562ce29306f20d43cc03ba038f635/7c811/image-20231103152945160.png 660w,\n/static/c3c562ce29306f20d43cc03ba038f635/d28e0/image-20231103152945160.png 990w,\n/static/c3c562ce29306f20d43cc03ba038f635/4ad28/image-20231103152945160.png 1004w"\n            sizes="(max-width: 660px) 100vw, 660px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/c3c562ce29306f20d43cc03ba038f635/7c811/image-20231103152945160.png"\n            alt="image 20231103152945160"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(t.h5,{id:"non-repeatable-read-같은-데이터를-2번-읽었는데-값이-다르다",style:{position:"relative"}},l.createElement(t.a,{href:"#non-repeatable-read-%EA%B0%99%EC%9D%80-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-2%EB%B2%88-%EC%9D%BD%EC%97%88%EB%8A%94%EB%8D%B0-%EA%B0%92%EC%9D%B4-%EB%8B%A4%EB%A5%B4%EB%8B%A4","aria-label":"non repeatable read 같은 데이터를 2번 읽었는데 값이 다르다 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Non-repeatable Read: 같은 데이터를 2번 읽었는데 값이 다르다!"),"\n",l.createElement(t.p,null,l.createElement("u",null,"한 Transaction 안에서 읽었던 데이터를 다시 읽어들일 때 원래와 데이터가 변경되는 현상.")," 다시 읽어들이기 전에 다른 transaction이 ",l.createElement("u",null,"데이터를 갱신"),"하고 ",l.createElement("u",null,"commit"),"하기 때문에 발생한다."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"Dirty Read와 다른 점은 다른 transaction이 갱신 후 commit 했다는 점이다."),"\n"),"\n",l.createElement(t.p,null,"다음 두 트랜잭션의 스케줄을 확인하자:"),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB6ElEQVR42pWT626jMBCF8/6PtuqvVXeb9LYtISFAw8XGN2zzrSBZ2rSo7Y5kIUb2mXPOzKxYiGEYpjNGWZYYY+b8V7EywSN9z1YLHrua2pmLC1dXVyRJcgJkmIv1YcCFgdYGpA3UOky5VeUMm6pgXRdc1zmlVdNjrTXr9ZosyyjLgvu7W5TSM9M/lWMvHM9t4LFy/EjVBLwaLxSHA/luj27FzKxTim2akiTPPDweuLvPUJ28sGSXpjTHF0LvXiX/8yXGSIhx1MU5QXnIeX564vr3A7d3O6paYWyYvRxVCCnp+356NuYnwIFXs2X0ZFbR9JY29DSiRbTtucaA1j1NawkhfmjkxHD6iQNBWwZpyMoXbg57CqMo6pq6aWiFJADOR9wIagOtcB8mYmJ4AozYpEDdpribLWGTQhxAWpSUpGVDKiN72ZNJP5nftnZxlGYP3aFC3SQTsD+emyMMRnVs0iM/94asMmjVUzcW58LngIMPDM7jYkAHj4metqyoq5ri2CCURxuP9/FC4ofBnn04J/Za8qsp2SnBkxbkTYVW3eI2fc7w/D06zb2s2OmTbNV1CCEWG7AI+L6i8j1Hq7HBn8ZIygvAL3d5ScbbGIe367r/B3wr4a20PM+nfX4v+VsMl9gqpabzXcC/wz7jfQKk8dkAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/88f2a95dfcab49554902549dae0b13c0/3cd7a/image-20231103153826638.webp 165w,\n/static/88f2a95dfcab49554902549dae0b13c0/89fe6/image-20231103153826638.webp 330w,\n/static/88f2a95dfcab49554902549dae0b13c0/3d671/image-20231103153826638.webp 660w,\n/static/88f2a95dfcab49554902549dae0b13c0/7dc77/image-20231103153826638.webp 990w,\n/static/88f2a95dfcab49554902549dae0b13c0/145c7/image-20231103153826638.webp 1188w"\n              sizes="(max-width: 660px) 100vw, 660px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/88f2a95dfcab49554902549dae0b13c0/103f2/image-20231103153826638.png 165w,\n/static/88f2a95dfcab49554902549dae0b13c0/748ba/image-20231103153826638.png 330w,\n/static/88f2a95dfcab49554902549dae0b13c0/7c811/image-20231103153826638.png 660w,\n/static/88f2a95dfcab49554902549dae0b13c0/d28e0/image-20231103153826638.png 990w,\n/static/88f2a95dfcab49554902549dae0b13c0/cc5fa/image-20231103153826638.png 1188w"\n            sizes="(max-width: 660px) 100vw, 660px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/88f2a95dfcab49554902549dae0b13c0/7c811/image-20231103153826638.png"\n            alt="image 20231103153826638"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(t.h5,{id:"phantom-read-두-번-읽었는데-없던-데이터가-생겨버렸다",style:{position:"relative"}},l.createElement(t.a,{href:"#phantom-read-%EB%91%90-%EB%B2%88-%EC%9D%BD%EC%97%88%EB%8A%94%EB%8D%B0-%EC%97%86%EB%8D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EA%B0%80-%EC%83%9D%EA%B2%A8%EB%B2%84%EB%A0%B8%EB%8B%A4","aria-label":"phantom read 두 번 읽었는데 없던 데이터가 생겨버렸다 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Phantom Read: 두 번 읽었는데, 없던 데이터가 생겨버렸다···"),"\n",l.createElement(t.p,null,"한 트랜잭션이 진행중에, 다른 트랜잭션이 ",l.createElement("u",null,"추가하거나 삭제한 행 (row)"),"의 데이터를 읽어 발생한다. 첫번째 읽기에는 있었던 행이 두번째 읽기 때 없어지거나, 없었던 행이 두번째 읽기 때 생기는 현상을 말한다."),"\n",l.createElement(t.p,null,"다음 두 트랜잭션의 스케줄을 확인하자:"),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 61.81818181818181%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABzElEQVR42m2SW2+bQBCF/f9/U/tWtVKkqC911NSOcudmvLC7sOyVr2KDI7vuSAPDMJw5nLMbgJASY/TYFOm8pfeW0mimFJfX3NzcoJTK9TzPOWOacTExuojxidEnbEhsliHhJn7LlhfVsVvug+ROttSDpCreKcuCtm0Q4phBj2PgUTiaMfHYeV6l56V3NENgs2zLm9NMVVZI0ZFCyL3JGL58/cZ2e8/3H7ds7+45hQ+BsijQSi60P/ubef2NU6Szeo6J7d0z+4d3fm2feH1rGcaAtYGUZqZpypllWHE2J01OuWxTwSG8ZQguA8u+I0af67DoZjxKO7xPq64nbfnQ8N94GyQ/m3f+qCPFNCC6BTBczenBMU3hwqxN1AbfSkI/YF8bluekRkynONiR0g60QtBqR6EDhfJ0U6QaAs9Hm0EvADPQc51BXSXwQl0x6fueh8PIrrX0g6dX7jNDSJeAy2V6qrAvNV5oZuOovGGvBYXR+EVTKWk7g9SelBIxpmzKp3nnLp8zWdpRjahesTs2GXQ/dByEgPWQX8yfjDwD/XA5rbk2pdbs65KjNYwp0LQt3vsLkHNWVwzPz1F2L3oOzuBXVnVdY4y5+vh/8Re9wKW20jdSmgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/42354f8a0d30f817f5c97e694100da5f/3cd7a/image-20231103155819299.webp 165w,\n/static/42354f8a0d30f817f5c97e694100da5f/89fe6/image-20231103155819299.webp 330w,\n/static/42354f8a0d30f817f5c97e694100da5f/3d671/image-20231103155819299.webp 660w,\n/static/42354f8a0d30f817f5c97e694100da5f/7dc77/image-20231103155819299.webp 990w,\n/static/42354f8a0d30f817f5c97e694100da5f/04d22/image-20231103155819299.webp 1320w,\n/static/42354f8a0d30f817f5c97e694100da5f/b40ad/image-20231103155819299.webp 1365w"\n              sizes="(max-width: 660px) 100vw, 660px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/42354f8a0d30f817f5c97e694100da5f/103f2/image-20231103155819299.png 165w,\n/static/42354f8a0d30f817f5c97e694100da5f/748ba/image-20231103155819299.png 330w,\n/static/42354f8a0d30f817f5c97e694100da5f/7c811/image-20231103155819299.png 660w,\n/static/42354f8a0d30f817f5c97e694100da5f/d28e0/image-20231103155819299.png 990w,\n/static/42354f8a0d30f817f5c97e694100da5f/bb51b/image-20231103155819299.png 1320w,\n/static/42354f8a0d30f817f5c97e694100da5f/c2ad0/image-20231103155819299.png 1365w"\n            sizes="(max-width: 660px) 100vw, 660px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/42354f8a0d30f817f5c97e694100da5f/7c811/image-20231103155819299.png"\n            alt="image 20231103155819299"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(t.h3,{id:"isolation-level-격리수준",style:{position:"relative"}},l.createElement(t.a,{href:"#isolation-level-%EA%B2%A9%EB%A6%AC%EC%88%98%EC%A4%80","aria-label":"isolation level 격리수준 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Isolation Level (격리수준)"),"\n",l.createElement(t.p,null,"트랜잭션의 Isolation level은 dirty read, non-repeatable read, phantom read를 어디까지 허용하는가에 따라 결정된다. isolation level은 다음과 같다."),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,l.createElement("u",null,"대부분의 관계형 DBMS는 위 4가지 격리수준을 option으로 제공"),"한다. 물론 엔진마다 지원하는 option과 실제 의미가 다를수는 있으니 문서를 보고 잘 선택해야한다."),"\n"),"\n",l.createElement(t.table,null,l.createElement(t.thead,null,l.createElement(t.tr,null,l.createElement(t.th,null,"Isolation Level"),l.createElement(t.th,null,"Dirty Read"),l.createElement(t.th,null,"Non-repeatable Read"),l.createElement(t.th,null,"Phantom Read"))),l.createElement(t.tbody,null,l.createElement(t.tr,null,l.createElement(t.td,null,"Read Uncommitted"),l.createElement(t.td,null,"O"),l.createElement(t.td,null,"O"),l.createElement(t.td,null,"O")),l.createElement(t.tr,null,l.createElement(t.td,null,"Read Committed"),l.createElement(t.td,null,"X"),l.createElement(t.td,null,"O"),l.createElement(t.td,null,"O")),l.createElement(t.tr,null,l.createElement(t.td,null,"Repeatable Read"),l.createElement(t.td,null,"X"),l.createElement(t.td,null,"X"),l.createElement(t.td,null,"O")),l.createElement(t.tr,null,l.createElement(t.td,null,"Serializable"),l.createElement(t.td,null,"X"),l.createElement(t.td,null,"X"),l.createElement(t.td,null,"X")))),"\n",l.createElement(t.p,null,l.createElement(t.strong,null,"Read Uncommitted"),": 다른 Transaction에서 Commit 하지 않은 데이터를 읽을 수 있다. 데이터의 정확도가 중요하지 않으면서 TX의 수행 시간이 긴 경우에 지정하여 사용할 수 있다."),"\n",l.createElement(t.p,null,l.createElement(t.strong,null,"Read Committed"),": 다른 Transaction에서 Commit한 데이터만을 읽는다."),"\n",l.createElement(t.p,null,l.createElement(t.strong,null,"Repeatable Read"),": 다른 Transaction에서 Commit한 데이터만을 읽어들이며, 추가로 트랜잭션 진행 중 읽었던 데이터를 다시 읽는 상황이 나타날 때 중간에 다른 트랜잭션이 해당 데이터를 갱신할 수 없다."),"\n",l.createElement(t.p,null,l.createElement(t.strong,null,"Serializable"),": Non-serial schedule로 실행하더라도 serial schedule과 동일한 결과가 나온다. 더하여 cascading rollback 현상도 없어야 한다. 정의된 3가지 이상현상 외에도 모든 이상현상을 막는 가장 엄격한 레벨이다."),"\n",l.createElement(t.h3,{id:"추가적인-이상현상들",style:{position:"relative"}},l.createElement(t.a,{href:"#%EC%B6%94%EA%B0%80%EC%A0%81%EC%9D%B8-%EC%9D%B4%EC%83%81%ED%98%84%EC%83%81%EB%93%A4","aria-label":"추가적인 이상현상들 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"추가적인 이상현상들"),"\n",l.createElement(t.p,null,"SQL 표준에서 Isolation Level을 제시하기 위해 정의한 세가지 이상현상들 말고도 트랜잭션의 동시성을 허용하며 발생하는 이상현상들은 더욱 많다."),"\n",l.createElement(t.h5,{id:"dirty-write-lost-update-동시에-두-data를-갱신하려고-할-때-하나의-write가-씹히는-현상",style:{position:"relative"}},l.createElement(t.a,{href:"#dirty-write-lost-update-%EB%8F%99%EC%8B%9C%EC%97%90-%EB%91%90-data%EB%A5%BC-%EA%B0%B1%EC%8B%A0%ED%95%98%EB%A0%A4%EA%B3%A0-%ED%95%A0-%EB%95%8C-%ED%95%98%EB%82%98%EC%9D%98-write%EA%B0%80-%EC%94%B9%ED%9E%88%EB%8A%94-%ED%98%84%EC%83%81","aria-label":"dirty write lost update 동시에 두 data를 갱신하려고 할 때 하나의 write가 씹히는 현상 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Dirty Write (Lost Update): 동시에 두 data를 갱신하려고 할 때, 하나의 write가 씹히는 현상"),"\n",l.createElement(t.p,null,"가장 처음의 그림 사례의 Lost Update가 Dirty write에 해당한다. 한 트랜잭션이 데이터를 write한 후 다른 트랜잭션이 그 갱신된 값을 덮어씌우려 할 때 발생한다."),"\n",l.createElement(t.p,null,"Rollback시 정상적인 recovery가 되는 것은 매우 중요하기 때문에 모든 isolation level에서 Dirty Right는 허용하지 않도록 막아야 한다."),"\n",l.createElement(t.h5,{id:"read-skew와-write-skew",style:{position:"relative"}},l.createElement(t.a,{href:"#read-skew%EC%99%80-write-skew","aria-label":"read skew와 write skew permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Read Skew와 Write Skew"),"\n",l.createElement(t.p,null,"영상을 다시 참고하자."),"\n",l.createElement(t.h3,{id:"snapshot-isolation-레벨",style:{position:"relative"}},l.createElement(t.a,{href:"#snapshot-isolation-%EB%A0%88%EB%B2%A8","aria-label":"snapshot isolation 레벨 permalink",className:"header-links before"},l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Snapshot Isolation 레벨"),"\n",l.createElement(t.p,null,"기존은 이상한 현상 3개를 정의한다음에, 걔네들을 얼마나 허용할지를 바탕으로 레벨을 정해두었다."),"\n",l.createElement(t.p,null,"그런데 snapshot isolation은 concurrency control이 어떻게 구현방식을 바탕으로 정의한 레벨이다."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"실제로 어떻게 동작하는지 이해해햐엒지?"),"\n"),"\n",l.createElement(t.p,null,"써주는건 snapshot에 써준다는 개념으로 받아들이면 됨."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"commit하는 순간 snapshot을 DB에 적용한다."),"\n"),"\n",l.createElement(t.p,null,"각각의 transaction은 transaction이 시작한 순간으로 snapshot을 읽는다."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"같은 데이터에 대해 write를 하고 있다면, Lost update가 일어날수도···."),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"write write conflict가 발생했을때는 뒤에 시도하는 transaction을 abort 시킨다."),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"이런식으로 동작하는 것을 스냅샷 아이솔레이션이라고 한다."),"\n"),"\n",l.createElement(t.li,null,"\n",l.createElement(t.p,null,"얘는 사실 MVCC의 한 종류이다."),"\n"),"\n"),"\n",l.createElement(t.p,null,"tx가 시작하기 전에 commit된 데이터만 보인다."),"\n",l.createElement(t.p,null,"또한 first committer win : write write conflict가 일어났을 때는 먼저 커밋한 사람이 이기셈 ㅋㅋ"))}var i=function(e={}){const{wrapper:t}=Object.assign({},(0,n.ah)(),e.components);return t?l.createElement(t,e,l.createElement(c,e)):c(e)},r=a(5670),s=a(1326),m=a(4517),d=a(698),o=a(8627),p=a(662),E=a(1873);const u=({data:e,children:t,serverData:a})=>{const{prevPost:n,nextPost:c}=e,i={...e.mdx.frontmatter,timeToRead:e.mdx.fields.timeToRead};return l.createElement(d.Z,{data:e},l.createElement(r.Z,null,l.createElement(m.Z,i),l.createElement(s.Z,null,t),l.createElement(p.Z,{prev:n,next:c}),l.createElement(o.Z)))};function g(e){return l.createElement(u,e,l.createElement(i,e))}}}]);
//# sourceMappingURL=component---src-templates-article-page-jsx-content-file-path-users-leobang-blog-starter-documents-데이터베이스-database-transaction-isolation-level-md-386a725b9eb869e45ebf.js.map