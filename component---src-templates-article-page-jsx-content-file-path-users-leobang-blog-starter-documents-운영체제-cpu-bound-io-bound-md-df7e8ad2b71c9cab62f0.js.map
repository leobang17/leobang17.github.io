{"version":3,"file":"component---src-templates-article-page-jsx-content-file-path-users-leobang-blog-starter-documents-운영체제-cpu-bound-io-bound-md-df7e8ad2b71c9cab62f0.js","mappings":"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","sources":["webpack://gatsby-theme-simplex/./documents/운영체제/cpu-bound-io-bound.md","webpack://gatsby-theme-simplex/./src/templates/ArticlePage.jsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    ul: \"ul\",\n    li: \"li\",\n    div: \"div\",\n    h5: \"h5\",\n    a: \"a\",\n    blockquote: \"blockquote\",\n    h4: \"h4\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"CPU란 메모리에 올라가 있는 프로세스의 명령어를 해석하고 실행하는 장치이다. 먼저 CPU burst와 I/O burst의  의미에 대해 알아보자.\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"CPU 버스트 (burst)\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"메모리에 올라가 있는 프로세스가 “CPU에서 연속적으로 실행되는 시간”을 말한다.\"), \"\\n\", React.createElement(_components.li, null, \"만약 어떤 프로세스의 CPU burst time이 10초라고 하면, 그 프로세스의 특정 작업이 완료하기 위해서 CPU가 10초동안 프로세스의 명령어를 연산하고 있다는 것\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"I/O 버스트 (burst)\")), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"CPU가 I/O 작업을 요청하고 결과를 기다리는 시간. 이 시간동안은 CPU가 쉬고 있는다.\"), \"\\n\"), \"\\n\", React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<figure class=\\\"gatsby-resp-image-figure\\\" style=\\\"\\\">\\n    <span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \\\"\\n    >\\n      <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 18.181818181818183%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAv0lEQVR42l2Py1KDQBBF+f9vsxLdaAghiyyCiATiPJmZnmMxaGnlLrq6+iz63KptWw51jfOeNTln/vJ/f2SPdOPVNE809ZH7MEJI5fhpIqOJLBnEOOKsSWZ76KMw6MjdCzlEwqVn6UaScoVXZSqPfbug9yf09cZpCjx3lnZwLOcrX7sG9XTEjopOJ157x8u7Y1CB/vyB2jXY/laMqyxC1Jb0YxJmXcBq6paEJNnqJCEYT8q/1TNBcmmxmkqWUvkbW0U2J8QnVyIAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/6366c4c51c56a9d9094352b0a87c6168/3cd7a/image-20231020143059623.webp 165w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/89fe6/image-20231020143059623.webp 330w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/3d671/image-20231020143059623.webp 660w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/7dc77/image-20231020143059623.webp 990w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/145c7/image-20231020143059623.webp 1188w\\\"\\n              sizes=\\\"(max-width: 660px) 100vw, 660px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/6366c4c51c56a9d9094352b0a87c6168/103f2/image-20231020143059623.png 165w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/748ba/image-20231020143059623.png 330w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/7c811/image-20231020143059623.png 660w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/d28e0/image-20231020143059623.png 990w,\\n/static/6366c4c51c56a9d9094352b0a87c6168/cc5fa/image-20231020143059623.png 1188w\\\"\\n            sizes=\\\"(max-width: 660px) 100vw, 660px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/6366c4c51c56a9d9094352b0a87c6168/7c811/image-20231020143059623.png\\\"\\n            alt=\\\"image-20231020143059623\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n    </span>\\n    <figcaption class=\\\"gatsby-resp-image-figcaption\\\">image-20231020143059623</figcaption>\\n  </figure>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"즉, 프로세스의 인생은 CPU 버스트와 I/O 버스트의 연속이다! 프로세스는 CPU가 명령어를 수행하다가, I/O를 기다렸다가, 해결이 되면 다시 CPU에서 남은 명령어를 실행했다가··· 를 반복한다.\"), \"\\n\", React.createElement(_components.p, null, \"그렇다면 CPU bound 프로그램과 I/O bound 프로그램은 뭘까?\"), \"\\n\", React.createElement(_components.h5, {\n    id: \"cpu-bound-프로그램\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#cpu-bound-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8\",\n    \"aria-label\": \"cpu bound 프로그램 permalink\",\n    className: \"header-links before\"\n  }, React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"CPU bound 프로그램\"), \"\\n\", React.createElement(_components.p, null, \"CPU 버스트가 프로세스의 대부분을 차지하는 프로세스를 말한다. CPU를 점유해서 실제로 연산을 미친듯이 돌려야 하는 작업들로 이루어진 프로세스가 CPU bound 프로세스이다.\"), \"\\n\", React.createElement(_components.p, null, \"예를들면, 동영상 편집 프로그램 혹은 머신러닝 프로그램등이 있다. CPU로도 연산 횟수가 모자라 GPU까지 이용한다.\"), \"\\n\", React.createElement(_components.h5, {\n    id: \"io-bound-프로그램\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#io-bound-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8\",\n    \"aria-label\": \"io bound 프로그램 permalink\",\n    className: \"header-links before\"\n  }, React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"I/O bound 프로그램\"), \"\\n\", React.createElement(_components.p, null, \"I/O 버스트가 프로세스의 대부분을 차지하는 프로세스를 말한다. CPU 연산을 실제로 요구하는 코드보다 네트워크 통신 등 오래 걸리는 I/O 작업이 많은 경우.\"), \"\\n\", React.createElement(_components.p, null, \"일반적인 백엔드 API 서버가 대표적인 I/O bound 프로세스이다. (물론 해당 API 서버가 머신러닝등 고연산 작업을 요구한다면 말이 다르겠지만) 사용자와 대화형으로 동작하는 프로세스는 모두 I/O bound 프로세스이다.\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"대부분의 프로그램은 I/O bound 프로그램이라고 한다. 대부분의 프로세스들이 CPU burst가 8ms로 끝난다는 통계 결과가 있다.\"), \"\\n\"), \"\\n\", React.createElement(_components.h4, {\n    id: \"cpu-bound-io-bound에-대한-궁금증\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#cpu-bound-io-bound%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B6%81%EA%B8%88%EC%A6%9D\",\n    \"aria-label\": \"cpu bound io bound에 대한 궁금증 permalink\",\n    className: \"header-links before\"\n  }, React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"CPU bound, I/O bound에 대한 궁금증\"), \"\\n\", React.createElement(_components.h5, {\n    id: \"1-듀얼코어-cpu에서-동작할-cpu-bound-프로그램을-구현한다면-몇-개의-thread를-이용하는게-좋을까\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#1-%EB%93%80%EC%96%BC%EC%BD%94%EC%96%B4-cpu%EC%97%90%EC%84%9C-%EB%8F%99%EC%9E%91%ED%95%A0-cpu-bound-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%EC%9D%84-%EA%B5%AC%ED%98%84%ED%95%9C%EB%8B%A4%EB%A9%B4-%EB%AA%87-%EA%B0%9C%EC%9D%98-thread%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%84%EA%B9%8C\",\n    \"aria-label\": \"1 듀얼코어 cpu에서 동작할 cpu bound 프로그램을 구현한다면 몇 개의 thread를 이용하는게 좋을까 permalink\",\n    className: \"header-links before\"\n  }, React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"1. 듀얼코어 CPU에서 동작할 CPU bound 프로그램을 구현한다면 몇 개의 thread를 이용하는게 좋을까?\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"예를들면, 10억개의 사진을 읽어서 사진 속에 사람이 있는지 없는지를 마킹하는 프로그램을 상정하자.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"무조건 thread를 많이 이용하는게 좋을까?  2002년 Goetz가 발표한 추천안은 *“CPU bound 프로그램에서 적절한 thread 수는 \", React.createElement(_components.strong, null, \"number of CPUs + 1\"), \"“*이다.\"), \"\\n\", React.createElement(_components.p, null, \"듀얼 코어 CPU에 동작할 process 안에 4개의 thread를 만들었다고 해보자. 단순하게 생각해보면 실행시간이 1/4로 줄어들 것이라고 생각할 수도 있다. 동시에 실행가능한 단위를 4개로 분할해서 돌리니까!\"), \"\\n\", React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \\\"\\n    >\\n      <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 47.878787878787875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeUlEQVR42o2S6WobMRSF5/3fyxSD8c8kTbEn49nsWaTxLLY0Wr4iFYe0aUsOHO6CdLhbstlsyLIMKQQP9F3H6XSi73vSNKWua4Zh4F/w3r/7SVVVNE1DP0hUK8FY5HWgKIooejgeI4WUWGvR64rWK3elMMa8iz1sUlYVZVEw5ReuLxleztR5yfPTE70csM4jpKBpW5q2oT6fKcqSQ5pySN9QWv8uqJQKEfJUo8cZVkt7vlBXFa0YGG4GB2jrWQOdxzhP+O6cw3kfxR5MQtkB421BLzdQhjov2O12TPOMsp4fneLbaYl87VSMu8X8dZ5Jnuf0TcvcSa5PKfrtghyvhPw0TfFRqKyeVr53ikOvOQjNpC2XyXAUmmzQlOPK9W5JwgbbsJS0YJ1vseU6y9lut4zjGFt6IPhhpsq4OILAu3GRk/5lk2VZiJxm3HyPglJKwmyjoHOfTuN/SD7dk7akL6/s9/so+PEsvsLkz0SAEIKyLGPlH8W+UuFPs8wFAkQ2qGUAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/a066f1682c5fde08d5fb68354b2d05dd/3cd7a/image-20231020143707502.webp 165w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/89fe6/image-20231020143707502.webp 330w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/3d671/image-20231020143707502.webp 660w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/7dc77/image-20231020143707502.webp 990w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/b4797/image-20231020143707502.webp 1066w\\\"\\n              sizes=\\\"(max-width: 660px) 100vw, 660px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/a066f1682c5fde08d5fb68354b2d05dd/103f2/image-20231020143707502.png 165w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/748ba/image-20231020143707502.png 330w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/7c811/image-20231020143707502.png 660w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/d28e0/image-20231020143707502.png 990w,\\n/static/a066f1682c5fde08d5fb68354b2d05dd/5f864/image-20231020143707502.png 1066w\\\"\\n            sizes=\\\"(max-width: 660px) 100vw, 660px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/a066f1682c5fde08d5fb68354b2d05dd/7c811/image-20231020143707502.png\\\"\\n            alt=\\\"image 20231020143707502\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"하지만 해당 프로그램이 CPU bound 프로그램임을 다시 생각해보자. 어차피 코어는 한번에 하나의 thread만 실행시킬 수 있다. 2개의 코어를 점유하기 위해 4개의 thread가 경합하는데, 해당 thread 속의 작업 역시 CPU bound 작업들이다.\"), \"\\n\", React.createElement(_components.p, null, \"thread 실행 동안 CPU가 쉴 틈 없이 연산을 요구하는 작업들이므로 사실상 코어당 1개의 thread를 만드는 것보다 빠를 것이 없다. 아니, 오히려 실행시간이 늘어난다!\"), \"\\n\", React.createElement(_components.p, null, React.createElement(\"u\", null, \"2개의 코어를 4개의 thread가 경합하며 Context Switching이 일어나기 때문이다.\"), \" Context Switching은 프로세스의 실행과 무관하게 CPU 시간을 잡아먹는 overhead이다.\"), \"\\n\", React.createElement(_components.p, null, \"따라서 CPU bound 프로그램에는 thread 개수를 core의 개수만큼, 혹은 그에서 벗어나지 않는 수만큼만 두는 것을 추천한다.\"), \"\\n\", React.createElement(_components.h5, {\n    id: \"io-bound-프로그램은-thread-몇-개로-구현하는게-적절할까\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#io-bound-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%EC%9D%80-thread-%EB%AA%87-%EA%B0%9C%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%98%EB%8A%94%EA%B2%8C-%EC%A0%81%EC%A0%88%ED%95%A0%EA%B9%8C\",\n    \"aria-label\": \"io bound 프로그램은 thread 몇 개로 구현하는게 적절할까 permalink\",\n    className: \"header-links before\"\n  }, React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"I/O bound 프로그램은 thread 몇 개로 구현하는게 적절할까?\"), \"\\n\", React.createElement(_components.p, null, \"CPU bound 프로그램과 같이 표준적인 답안이 정해져 있지는 않다. 실제 상황은 워낙 다양하기 때문이다.\"), \"\\n\", React.createElement(_components.p, null, \"예를들어, API 서버가 thread per request 방식으로 요청을 처리한다고 가정해보자. 이 상황에서 API 서버 프로세스는 미리 thread pool을 생성해놓고 request가 올 때마다 놀고 있는 thread를 해당 reqeust와 매핑하는 방식으로 실행된다.\"), \"\\n\", React.createElement(_components.p, null, \"몇 개의 thread를 미리 만들어놓을지(= thread pool의 크기)는 여러 상황을 고려해서 결정하는 것이 중요하다.\"), \"\\n\", React.createElement(_components.h5, {\n    id: \"thread를-많이-이용할수록-애플리케이션의-성능이-높아질까\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#thread%EB%A5%BC-%EB%A7%8E%EC%9D%B4-%EC%9D%B4%EC%9A%A9%ED%95%A0%EC%88%98%EB%A1%9D-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%9D%98-%EC%84%B1%EB%8A%A5%EC%9D%B4-%EB%86%92%EC%95%84%EC%A7%88%EA%B9%8C\",\n    \"aria-label\": \"thread를 많이 이용할수록 애플리케이션의 성능이 높아질까 permalink\",\n    className: \"header-links before\"\n  }, React.createElement(_components.div, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Thread를 많이 이용할수록 애플리케이션의 성능이 높아질까?\"), \"\\n\", React.createElement(_components.p, null, \"thread 수와 실제 성능과의 상관관계에 대한 궁금증. multi thread 환경을 가정했을 때.\"), \"\\n\", React.createElement(_components.p, null, \"‘thread를 많이 쓰면 쓸수록 동시에 더 많은 작업을 실행할 수 있다’는 명제에는 \", React.createElement(\"u\", null, \"해당 어플리케이션은 더 작은 작업들로 잘게 쪼개서 동시에 실행이 가능한 성격의 어플리케이션\"), \"이라는 전제가 필요하다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"만약 순차적으로 실행되어야 하는 성격이라면, 잘게 쪼개서 실행할 수 없는 애플리케이션이라면 thread를 계속 늘려봤자 별 이점이 없을 것이다.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Context Switching 작업을 위해 소모되는 CPU time은 애플리케이션과 직접적인 관련은 없지만 multi-threading을 구현하기 위해 필요한 overhead (간접비용)이다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"CPU의 코어 수를 고정하는데 thread를 계속 늘린다면 overhead가 계속해서 늘어날 것이다.\"), \"\\n\", React.createElement(_components.li, null, \"임계점에 도달하면 overhead 때문에 성능면에서 한계에 직면할 수도 있다.\"), \"\\n\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/Users/leobang/blog-starter/documents/운영체제/cpu-bound-io-bound.md\";\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport ArticleLayout from 'components/Layout/ArticleLayout';\nimport MarkdownWrapper from 'components/MarkdownWrapper';\nimport ArticleFrontmatter from 'components/ArticleFrontmatter';\nimport ArticlePageContext from 'contexts/ArticlePageContext';\nimport Utterances from 'components/Utterance';\nimport RecentPosts from 'components/RecentPosts/RecentPosts';\nconst isBrowser = typeof window !== undefined;\nconst ArticlePage = ({data, children, serverData}) => {\n  const {prevPost, nextPost} = data;\n  const frontmatters = {\n    ...data.mdx.frontmatter,\n    timeToRead: data.mdx.fields.timeToRead\n  };\n  return React.createElement(ArticlePageContext, {\n    data: data\n  }, React.createElement(ArticleLayout, null, React.createElement(ArticleFrontmatter, frontmatters), React.createElement(MarkdownWrapper, null, children), React.createElement(RecentPosts, {\n    prev: prevPost,\n    next: nextPost\n  }), React.createElement(Utterances)));\n};\nArticlePage\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(ArticlePage, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport const query = graphql`\n  query ($id: String, $nextId: String, $prevId: String) {\n    mdx(id: { eq: $id }) {\n      id\n      fields {\n        slug\n        timeToRead\n        categoryDirectory\n      }\n      frontmatter {\n        title\n        createdAt(formatString: \"MMMM DD, YYYY\")\n      }\n      tableOfContents\n    }\n    prevPost: mdx(id: { eq: $prevId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    nextPost: mdx(id: { eq: $nextId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n  }\n`;\nexport {ArticlePageHead as Head} from 'components/head';\n"],"names":["_createMdxContent","props","_components","Object","assign","p","strong","ul","li","div","h5","a","blockquote","h4","_provideComponents","components","React","dangerouslySetInnerHTML","__html","id","style","position","href","className","wrapper","MDXLayout","ArticlePage","data","children","serverData","prevPost","nextPost","frontmatters","mdx","frontmatter","timeToRead","fields","ArticlePageContext","ArticleLayout","ArticleFrontmatter","MarkdownWrapper","RecentPosts","prev","next","Utterances","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}